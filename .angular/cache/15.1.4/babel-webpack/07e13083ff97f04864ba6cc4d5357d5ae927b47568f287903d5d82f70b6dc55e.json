{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../shared/star.component\";\nimport * as i6 from \"../shared/convert-to-spaces.pipe\";\nfunction ProductListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 11)(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Filtered by: \", ctx_r0.listFilter, \"\");\n  }\n}\nfunction ProductListComponent_table_11_tr_17_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 18);\n  }\n  if (rf & 2) {\n    const product_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r5.imageWidth, \"px\")(\"margin\", ctx_r5.imageMargin, \"px\");\n    i0.ɵɵproperty(\"src\", product_r4.imageUrl, i0.ɵɵsanitizeUrl)(\"title\", product_r4.productName);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/products\", a1];\n};\nfunction ProductListComponent_table_11_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtemplate(2, ProductListComponent_table_11_tr_17_img_2_Template, 1, 6, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"convertToSpaces\");\n    i0.ɵɵpipe(9, \"lowercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"pm-star\", 17);\n    i0.ɵɵlistener(\"ratingClicked\", function ProductListComponent_table_11_tr_17_Template_pm_star_ratingClicked_16_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onRatingClicked($event));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.showImage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(17, _c0, product_r4.productId));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r4.productName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 7, i0.ɵɵpipeBind1(9, 10, product_r4.productCode), \"-\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r4.releaseDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(14, 12, product_r4.price, \"USD\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"rating\", product_r4.starRating);\n  }\n}\nfunction ProductListComponent_table_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 12)(1, \"thead\")(2, \"tr\")(3, \"th\")(4, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_table_11_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.toggleImage());\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Available\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"5 Star Rating\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, ProductListComponent_table_11_tr_17_Template, 17, 19, \"tr\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.showImage ? \"Hide\" : \"Show\", \" Image \");\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredProducts);\n  }\n}\nfunction ProductListComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Error: \", ctx_r2.errorMessage, \" \");\n  }\n}\nexport class ProductListComponent {\n  get listFilter() {\n    return this._listFilter;\n  }\n  set listFilter(value) {\n    console.log(value);\n    this._listFilter = value;\n    this.filteredProducts = this.performFilter(value);\n  }\n  constructor(productService) {\n    this.productService = productService;\n    this.pageTitle = 'productlist!';\n    this.imageWidth = 50;\n    this.imageMargin = 2;\n    this.showImage = false;\n    this.errorMessage = '';\n    this._listFilter = '';\n    this.filteredProducts = [];\n    this.products = [];\n  }\n  performFilter(filterBy) {\n    filterBy = filterBy.toLocaleLowerCase();\n    return this.products.filter(product => product.productName.toLocaleLowerCase().includes(filterBy));\n  }\n  toggleImage() {\n    this.showImage = !this.showImage;\n  }\n  ngOnInit() {\n    this.sub = this.productService.getProducts().subscribe({\n      next: products => {\n        this.products = products;\n        this.filteredProducts = this.products;\n      },\n      error: err => this.errorMessage = err\n    });\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n  onRatingClicked(message) {\n    this.pageTitle = 'Productlist: ' + message;\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 13,\n  vars: 5,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-2\"], [1, \"col-md-4\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"table-responsive\"], [\"class\", \"table\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"col-md-6\"], [1, \"table\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"src\", \"title\", \"width\", \"margin\", 4, \"ngIf\"], [3, \"routerLink\"], [3, \"rating\", \"ratingClicked\"], [3, \"src\", \"title\"], [1, \"alert\", \"alert-danger\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4);\n      i0.ɵɵtext(6, \"Filter by:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.listFilter = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(9, ProductListComponent_div_9_Template, 4, 1, \"div\", 7);\n      i0.ɵɵelementStart(10, \"div\", 8);\n      i0.ɵɵtemplate(11, ProductListComponent_table_11_Template, 18, 2, \"table\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(12, ProductListComponent_div_12_Template, 2, 1, \"div\", 10);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.listFilter);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.listFilter);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.products.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n    }\n  },\n  dependencies: [i2.RouterLink, i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.StarComponent, i3.LowerCasePipe, i3.CurrencyPipe, i6.ConvertToSpacesPipe],\n  styles: [\"thead[_ngcontent-%COMP%]{\\r\\n    color: blanchedalmond;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdHMvcHJvZHVjdC1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7QUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyJ0aGVhZHtcclxuICAgIGNvbG9yOiBibGFuY2hlZGFsbW9uZDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductListComponent","listFilter","_listFilter","value","console","log","filteredProducts","performFilter","constructor","productService","filterBy","toLocaleLowerCase","products","filter","product","productName","includes","toggleImage","showImage","ngOnInit","sub","getProducts","subscribe","next","error","err","errorMessage","ngOnDestroy","unsubscribe","onRatingClicked","message","pageTitle","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\235696\\Downloads\\Angular-GettingStarted-master\\Angular-GettingStarted-master\\apm-new\\src\\app\\products\\product-list.component.html","C:\\Users\\235696\\Downloads\\Angular-GettingStarted-master\\Angular-GettingStarted-master\\apm-new\\src\\app\\products\\product-list.component.ts"],"sourcesContent":["<div class='card'>\r\n    <div class='card-header'>\r\n      {{pageTitle}}\r\n    </div>\r\n    <div class='card-body'>\r\n      <div class='row'>\r\n        <div class='col-md-2'>Filter by:</div>\r\n        <div class='col-md-4'>\r\n          <input type='text'\r\n                 [(ngModel)]='listFilter' />\r\n        </div>\r\n      </div>\r\n      <div class='row'\r\n           *ngIf='listFilter'>\r\n        <div class='col-md-6'>\r\n          <h4>Filtered by: {{listFilter}}</h4>\r\n        </div>\r\n      </div>\r\n      <div class='table-responsive'>\r\n        <table class='table'\r\n               *ngIf='products.length'>\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                <button class='btn btn-primary'\r\n                        (click)='toggleImage()'>\r\n                  {{showImage ? 'Hide' : 'Show'}} Image\r\n                </button>\r\n              </th>\r\n              <th>Product</th>\r\n              <th>Code</th>\r\n              <th>Available</th>\r\n              <th>Price</th>\r\n              <th>5 Star Rating</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor='let product of filteredProducts'>\r\n              <td>\r\n                <img *ngIf='showImage'\r\n                     [src]='product.imageUrl'\r\n                     [title]='product.productName'\r\n                     [style.width.px]='imageWidth'\r\n                     [style.margin.px]='imageMargin'>\r\n              </td>\r\n              <td>\r\n                <a [routerLink]=\"['/products', product.productId]\">\r\n                  {{ product.productName }}\r\n                </a>\r\n              </td>\r\n              <td>{{ product.productCode | lowercase | convertToSpaces:'-' }}</td>\r\n              <td>{{ product.releaseDate }}</td>\r\n              <td>{{ product.price | currency:'USD':'symbol':'1.2-2' }}</td>\r\n              <td>\r\n                <pm-star [rating]='product.starRating'\r\n                         (ratingClicked)='onRatingClicked($event)'>\r\n                </pm-star>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf='errorMessage'\r\n       class='alert alert-danger'>\r\n    Error: {{ errorMessage }}\r\n  </div>","import { Component, OnDestroy, OnInit } from \"@angular/core\";\r\nimport { IProduct } from \"./product\";\r\nimport { ProductService } from \"./product.service\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\n@Component({\r\n    \r\n    templateUrl:'./product-list.component.html',\r\n    styleUrls:['./product-list.component.css']\r\n})\r\nexport class ProductListComponent implements OnInit, OnDestroy{\r\n  pageTitle:string = 'productlist!';\r\n    imageWidth:number = 50;\r\n    imageMargin:number = 2;\r\n    showImage: boolean = false;\r\n    errorMessage: string = '';\r\n    sub!: Subscription;\r\n    private _listFilter: string = '';\r\n    get listFilter(): string{\r\n      return this._listFilter;\r\n    }\r\n    set listFilter(value:string){\r\n      console.log(value);\r\n      this._listFilter = value;\r\n      this.filteredProducts = this.performFilter(value);\r\n    }\r\n    filteredProducts:IProduct[] = [];\r\n    products:IProduct[] =  [];\r\n  constructor(private productService: ProductService){}\r\n  \r\n  \r\n  performFilter(filterBy: string):IProduct[] {\r\n    filterBy = filterBy.toLocaleLowerCase();\r\n    return this.products.filter ((product:IProduct) =>\r\n    product.productName.toLocaleLowerCase().includes(filterBy));\r\n   }\r\n   toggleImage(): void{\r\n    this.showImage = !this.showImage\r\n }\r\n  ngOnInit(): void {\r\n    this.sub =this.productService.getProducts().subscribe({\r\n      next: (products: IProduct[]) => {\r\n        this.products = products;\r\n      this.filteredProducts = this.products;\r\n    },\r\n      error: (err: string) =>this.errorMessage = err\r\n    });\r\n  }\r\n    \r\n    ngOnDestroy(): void {\r\n      this.sub.unsubscribe();\r\n    }\r\n    \r\n  \r\n  onRatingClicked(message: string): void {\r\n    this.pageTitle = 'Productlist: ' + message;\r\n  }\r\n    \r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}